<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, viewport-fit=cover">
    <title>Vyla Vehicle</title>
    <style>
        html, body {
            margin: 0; padding: 0; 
            background-color: #000000;
            overflow: hidden; 
            width: 100%; height: 100%;
            display: flex; justify-content: center; align-items: center;
            flex-direction: column;
        }

        .splash-container {
            width: 280px;
            height: auto;
            opacity: 1;
            transition: opacity 0.5s ease-out;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Animação do Hypercar */
        .car-path {
            fill: none;
            stroke: #0A84FF; /* Accent Blue */
            stroke-width: 1.5;
            stroke-linecap: round;
            stroke-linejoin: round;
            stroke-dasharray: 1200;
            stroke-dashoffset: 1200;
            animation: drawCar 3s cubic-bezier(0.4, 0, 0.2, 1) forwards, fillCar 1s ease-out 2.8s forwards;
        }

        @keyframes drawCar {
            to { stroke-dashoffset: 0; }
        }

        @keyframes fillCar {
            to { fill: rgba(10, 132, 255, 0.08); }
        }

        .brand-text {
            margin-top: 30px;
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif;
            color: #fff;
            font-size: 16px;
            letter-spacing: 6px;
            text-transform: uppercase;
            font-weight: 600;
            opacity: 0;
            animation: fadeInText 1.5s ease-out 1.5s forwards;
        }

        @keyframes fadeInText { 
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 0.9; } 
        }
    </style>
</head>
<body>
    <div class="splash-container" id="splash">
        <svg viewBox="0 0 320 100" xmlns="http://www.w3.org/2000/svg">
            <!-- Hypercar Silhouette Path: Aerodinâmico e detalhado -->
            <path id="car-path" class="car-path" d="M290,75 L280,60 Q260,35 210,35 L110,35 Q70,35 50,60 L30,75 L20,85 L50,85 A18,18 0 0,1 86,85 L214,85 A18,18 0 0,1 250,85 L280,85 L290,75 Z M110,35 L105,85 M210,35 L215,85 M60,60 L260,60" />
        </svg>
        <div class="brand-text">VYLA VEHICLE</div>
    </div>

    <script>
        window.onload = function() {
            // 1. Personalização de Cor (Tema)
            const theme = localStorage.getItem('app_theme') || 'theme-blue';
            const colors = {
                'theme-blue': '#0A84FF',
                'theme-red': '#FF453A',
                'theme-green': '#30D158',
                'theme-gold': '#FFD60A',
                'theme-purple': '#BF5AF2'
            };
            const accentColor = colors[theme] || '#0A84FF';
            document.getElementById('car-path').style.stroke = accentColor;

            // 2. Otimização de Tempo (UX)
            const isOnboardDone = localStorage.getItem("onboard_done") === "true";
            const splashDuration = isOnboardDone ? 2000 : 4500;

            setTimeout(function() {
                document.body.style.transition = "opacity 0.5s ease";
                document.body.style.opacity = '0';
                
                setTimeout(function() {
                    if (isOnboardDone) {
                        window.location.replace("app.html");
                    } else {
                        window.location.replace("onboard.html");
                    }
                }, 500); // Tempo para o fade out
            }, splashDuration);
        };
    </script>
</body>
</html>
