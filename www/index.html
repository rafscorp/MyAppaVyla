<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, viewport-fit=cover">
    <title>Vyla Vehicle</title>
    <style>
        html, body {
            margin: 0; padding: 0; 
            background-color: #000000;
            overflow: hidden; 
            width: 100%; height: 100%;
            display: flex; justify-content: center; align-items: center;
            flex-direction: column;
        }

        .splash-container {
            width: 280px;
            height: auto;
            opacity: 1;
            transition: opacity 0.5s ease-out;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Animação do Hypercar */
        .car-path {
            fill: none;
            stroke: #0A84FF;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
            stroke-dasharray: 1500;
            stroke-dashoffset: 1500;
            animation: drawCar 2.5s cubic-bezier(0.4, 0, 0.2, 1) forwards, fillCar 0.8s ease-out 2.3s forwards;
            filter: drop-shadow(0 0 8px rgba(10, 132, 255, 0.6));
        }

        @keyframes drawCar {
            to { stroke-dashoffset: 0; }
        }

        @keyframes fillCar {
            to { fill: rgba(10, 132, 255, 0.15); }
        }

        .brand-text {
            margin-top: 30px;
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif;
            color: #fff;
            font-size: 16px;
            letter-spacing: 6px;
            text-transform: uppercase;
            font-weight: 600;
            opacity: 0;
            animation: fadeInText 1.5s ease-out 1.5s forwards;
        }

        @keyframes fadeInText { 
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 0.9; } 
        }
    </style>
</head>
<body>
    <div class="splash-container" id="splash">
        <svg viewBox="0 0 400 150" xmlns="http://www.w3.org/2000/svg">
            <!-- Hypercar Silhouette: Aerodinâmica Agressiva (Spoiler, Cavas, Farol) -->
            <path id="car-path" class="car-path" d="M370,105 L365,95 Q350,95 345,85 L330,65 Q300,40 220,40 L140,40 Q90,40 70,75 L50,95 L30,105 L30,115 L80,115 A20,20 0 0,1 120,115 L280,115 A20,20 0 0,1 320,115 L370,115 L370,105 Z M140,40 L135,115 M220,40 L225,115 M70,75 L330,75" />
        </svg>
        <div class="brand-text">VYLA VEHICLE</div>
    </div>

    <script>
        window.onload = function() {
            // 1. Personalização de Cor (Tema)
            const theme = localStorage.getItem('app_theme') || 'theme-blue';
            const colors = {
                'theme-blue': '#0A84FF',
                'theme-red': '#FF453A',
                'theme-green': '#30D158',
                'theme-gold': '#FFD60A',
                'theme-purple': '#BF5AF2'
            };
            const accentColor = colors[theme] || '#0A84FF';
            document.getElementById('car-path').style.stroke = accentColor;

            // 2. Otimização de Tempo (UX)
            const isOnboardDone = localStorage.getItem("onboard_done") === "true";
            const splashDuration = isOnboardDone ? 2000 : 4500;

            setTimeout(function() {
                document.body.style.transition = "opacity 0.5s ease";
                document.body.style.opacity = '0';
                
                setTimeout(function() {
                    if (isOnboardDone) {
                        window.location.replace("app.html");
                    } else {
                        window.location.replace("onboard.html");
                    }
                }, 500); // Tempo para o fade out
            }, splashDuration);
        };
    </script>
</body>
</html>
